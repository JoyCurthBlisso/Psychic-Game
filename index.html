<!DOCTYPE html>
<html lang="en-us">

	<head>
	  <meta charset="UTF-8">
	  <title>Psychic Game</title>


	</head>

<body id="char">
 
	<h1>The Psychic Game</h1>
	<h3>Guess what letter I'm thinking of</h3>

	<h3 id= "wins"> Wins: </h3>
		
			
	<h3 id= "losses"> Losses: </h3>
			
			
	<h3 id="guessesleft">Guesses Left: </h3>
		

	<h3 id="guesssofar">Your Guesses So Far: </h3>


	<script type="text/javascript">
			
	  		//set a variable for wins
			// set a variable for losses
	      	var wins = 0;
	      	var winstext = document.getElementById("wins");
	      	document.getElementById("wins").innerHTML = 
	      	"Wins: " + wins;
		
	      	var losses = 0;
	      	var lossestext = document.getElementById("losses");
	      	document.getElementById("losses").innerHTML = 
	      	"Losses: " + losses;
		
			
		
		     // create an array of letters
		     var letters = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r","s", "t", "u", "v", "x", "y", "z"];
		     
		     playgame();

		     function playgame(){

			     // set a variable for guesses left starting at 9
				var guessesleft = 9;
				var guesseslefttext = document.getElementById("guessesleft");
		      	document.getElementById("guessesleft").innerHTML = 
		      	"Guesses Left: " + guessesleft;
		      	var yourGuessSoFar = [];

		     	document.getElementById("guesssofar").innerHTML = "Your Guesses So Far: ";

				// pick one random letter and set to computer guess letter variable
		      	var computerguessrandomletter= letters[Math.floor(Math.random() * letters.length)];
		      	console.log("computerguess " + computerguessrandomletter);

		      	// set a variable for user guess and set it to lower case
		      	var userGuess;
	      		var userGuessLetter;
	      		// <input type = "text" id="userGuessLetter" onkeyup="myFunction()">

		      	// if guessesleft is more then zero
		      
		      		// if (guessesleft > 0 ){
		      		console.log(guessesleft);
					//capture key and convert to lower case
	      			// function myFunction(){

					var userGuessLetter =document.getElementById("char")
					userGuessLetter.onkeyup=function(e){
					var userGuessLetter=window.event || e;
				

						if (yourGuessSoFar.lastIndexOf(userGuessLetter.key)==-1 && letters.lastIndexOf(userGuessLetter.key)!=-1){

							// console.log(yourGuessSoFar.lastIndexOf(userGuessLetter.key));
							console.log(yourGuessSoFar);
							yourGuessSoFar.push(userGuessLetter.key);
				     		 console.log(userGuessLetter.key);


							 // & compare computerguessletter to userguessletter
			      		 	if (computerguessrandomletter === userGuessLetter.key) {
			        	 	// if the letter is the same then increase wins by 1 and clear userguessesletter and display
					      	// & reset computerguessletter
					      		wins ++ ;
					      		var winstext = document.getElementById("wins");
				      			document.getElementById("wins").innerHTML = 
				      			"Wins: " + wins;
					      		
		      					playgame();


			     	 		}
		      	
			     		 	else {
				     		 	//subtract one from guesses and append guess to array of guess so far
				     		 	if (guessesleft > 0) {
				     		 	guessesleft = guessesleft - 1;
				     		 

				     		 	
				     		 	
				     		 	// var guessesSoFarText = document.getElementById("yourGuesssoFar");
					      		document.getElementById("guesssofar").append(userGuessLetter.key + ", ");
					      	
					      		// updated guess left

					      		var guesseslefttext = document.getElementById("guessesleft");
					      		document.getElementById("guessesleft").innerHTML = 
					      		"Guesses Left: " + guessesleft;


				     		 	}
				     		 	//if you loss reset and increase lossses by 1
				     		 	else {

				     		 		losses ++;
						      		var lossestext = document.getElementById("losses");
					      			document.getElementById("losses").innerHTML = 
					      			"Losses: " + losses;
						      	

		      						playgame();

				     		 	}
				     		 }
		       		 
		      			}
					
		      		
		      	}
		      }
      		
		     // reset guesses if at 0
		     // if guessesleft = 0;
		     // then ....reset
			// When the player wins, increase the Wins counter and start the game over again (without refreshing the page).
			//When the player loses, increase the Losses counter and restart the game without a page refresh (just like when the user wins).
			
	</script>


	
	
</body>
	

</html>